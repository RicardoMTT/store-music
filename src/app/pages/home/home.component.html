<br />
<br />
<div class="main-container">
  <ng-container *ngIf="categories$ | async">
    <div class="container-chips">
      <mat-chip-list aria-label="Fish selection">
        <mat-chip
          color="primary"
          selected
          [ngClass]="isSelected == true ? 'isSelected' : 'isNotSelected'"
        >
          <div (click)="selectCategory(null)">General</div>
        </mat-chip>
        <mat-chip
          color="primary"
          selected
          *ngFor="let category of categories$ | async"
          [ngClass]="
            this.idSelected == category.id ? 'isSelected' : 'isNotSelected'
          "
        >
          <div (click)="selectCategory(category.id)">{{ category.nombre }}</div>
        </mat-chip>
      </mat-chip-list>
    </div>
  </ng-container>

  <div class="container">
    <div class="container__cards">
      <ng-container *ngIf="products$">
        <mat-card
          class="example-card"
          *ngFor="let product of products$ | async"
        >
          <mat-card-header>
            <mat-card-title>{{ product.nombre }}</mat-card-title>
            <mat-card-subtitle>{{ product.precio }}</mat-card-subtitle>
          </mat-card-header>
          <img
            mat-card-image
            [src]="'http://localhost:3001' + product.imagen.url"
            alt="Photo of a Shiba Inu"
            style="height: 370px"
          />
          <mat-card-content>
            <p>
              {{ product.descripcion.substring(0, 250) }}
            </p>
          </mat-card-content>
          <mat-card-actions>
            <button mat-button (click)="seeDetails(product.id)">COMPRAR</button>
          </mat-card-actions>
        </mat-card>
      </ng-container>
    </div>
  </div>
</div>
